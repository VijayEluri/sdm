apply plugin: 'war'
apply plugin: 'jetty'

// def dbDir = new File(rootProject.projectDir, 'db')

dependencies {
	
	compile project(':shared')
	
	runtime libs.reflections
	
	// Configuration
	
	compile(libs.commons_configuration) {
		compile libs.commons_lang
	}
	
	// Guice
	
	compile(libs.guice_api) {
		compile "javax.inject:javax.inject:1.0@jar"
		compile "aopalliance:aopalliance:1.0@jar"
	}
	compile libs.guice_servlet
	compile libs.guice_assistedinject
	
	// STS
	
	compile 'dk.sosi:seal:1.5.13'
	
	// SAML
	
	compile 'dk.itst.oiosaml:oiosaml.java:5987@jar'
	
	compile('com.trifork:rid2cprclient:1.2') {
		transitive = true
	}
	
	// MySQL
	
	compile libs.mysql_driver
	
	// IO Utils
	
	compile libs.commons_io
	
	// Fast infoset
	
	compile 'com.sun.xml.fastinfoset:FastInfoset:1.2.8'
	
	// Encryption
	
	compile libs.bouncycastle
	
	// HTML Templates
	
	compile "org.freemarker:freemarker:2.3.16"
	
	// Encoding
	
	compile libs.commons_codec

	// Testing
	
	testCompile libs.junit
	testCompile libs.hamcrest
	
	testCompile module(libs.mockito) {
		dependency libs.objenesis
	}
	
	testCompile 'org.yaml:snakeyaml:1.7'
	testCompile 'org.dbunit:dbunit:2.4.8'
	testCompile 'com.h2database:h2:1.3.148'
	
	// SOSI test keystore where the SealKetstore.jks
	// is stored.

	testRuntime fileTree(dir: 'sosi', include: '*.jar')
	
	// Logging
	
	compile libs.slf4j_api
	runtime libs.logback_core
	runtime libs.logback_classic
}
